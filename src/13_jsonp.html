<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>Document</title>
		<script src="./js/jquery.min.js"></script>
	</head>
	<body>
		<h3>当前页面一定不要用服务器去打开，因为要制造跨域问题，用jsonp去解决</h3>
		<button id="btn">点我获取数据</button>
		<script type="text/javascript" >
			// const btn = document.getElementById('btn')
			// btn.onclick = ()=>{
			// 	const xhr = new XMLHttpRequest()
			// 	xhr.onreadystatechange = ()=>{
			// 		if(xhr.readyState===4){
			// 			if(xhr.status<300&&xhr.status>=200){
			// 				console.log(xhr.response)
			// 			}
			// 		}
			// 	}
			// 	xhr.open('GET','http://127.0.0.1:8080/get_person')
			// 	xhr.send()
			// }
			// btn.onclick = ()=>{
			// 	const scriptNode = document.createElement('script')
			// 	scriptNode.src = 'http://127.0.0.1:8080/get_jsonp?callback=demo'
			// 	document.body.appendChild(scriptNode)
			// 	window.demo= (a)=>{
			// 		console.log(a)
			// 	}
			// 	document.body.removeChild(scriptNode)
			// }
			const btn = $('#btn')
			btn.click(()=>{
				$.getJSON('http://127.0.0.1:8080/get_jsonp?callback=?',{},(data)=>{
				  console.log(data)
				})
			})
		</script>
		
	</body>
</html>